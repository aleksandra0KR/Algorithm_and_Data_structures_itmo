# Лаб 11
## Тайны временных порталов
Вы - известный исследователь временных порталов, чей отец, также ученый, исчез во времени много лет назад. Он был страстным исследователем и хотел открыть новые миры, чтобы узнать, что скрыто в прошлом.

Но когда вы были ребенком, он попал в один из временных порталов и не смог вернуться. Вы выросли и унаследовали его научное наследие, но также узнали об опасностях временных порталов. Вы хотите найти своего отца и узнать, что случилось с ним, и вам нужно найти самый быстрый путь между двумя временными пространствами, чтобы найти ответы на свои вопросы.

Однако, вы знаете, что изменение прошлого может привести к параллельным временным линиям, и вы хотите сохранить ход истории в соответствии с ее естественным порядком.

Из дневника отца Вам стало известно, что для сохранения хода истории разрешенно перемещаться между двумя временными пространствами через третье, только если их номера отличаются с третьим на не более, чем K.

Вам необходимо уметь отвечать на запрос типа a b - наикратчайшее расстояние, между двумя временными пространствами с учетом выполнение условия, либо −1, если условие невозможно выполнить.

Если существует путь из a в b, то обратный путь, может не существовать.

## MIT(O)-Хайп-Парк
Два преподавателя Факультета Информационных технологий и программирования из Университета MIT(O) не переносят друг друга.

После переезда университета в только что построенный MIT(O)-Хайп-Парк они потребовали себе кабинеты в зданиях, максимально удалённых друг от друга.

Но есть нюанс. Высшее руководство факультета иногда проводит собрания, на котором обязаны присутствовать все преподаватели, в связи с этим, путь между выбранными зданиями должен существовать.

Обратите внимание, что MIT(O)-Хайп-Парк еще не достроен, а значит, что возможна такая ситуация, что из одного корпуса не существует пути до другого. Вам поручено найти расстояние между двумя такими максимально удаленными зданиями, между которыми существует путь.

## Фейсконтроль
В далекой империи графов намечается большая вечеринка в честь дня рождения императора.

Изначально было запланировано, что прийти на нее смогут только образцовые жители страны графов (пропаганда отрицательных циклов запрещена законом). Но в последний момент его величеству захотелось прослыть графом прогрессивных взглядов, и он разрешил вход на вечеринку гражданам с отрицательным циклом длины меньше k.

Также оказалось, что желающих посетить мероприятие слишком много, и императорская стража не сможет проверить всех посетителей без вашей помощи. От вас требуется написать программу, способную определить, достоин ли граф пройти на вечеринку, или нет.

Примечание: отрицательных циклов в графах не более одного, каждый приглашенный граф является связным.

## В поисках Вязьмы
Как-то вашему другу, студенту ИТМО потребовалось добраться от университета до общежития на Вяземском переулке.

К сожалению, у него разрядился телефон, поэтому он взял в руки бумажную карту и попросил Вас найти ему кратчайшие пути от университета до тех мест, куда он покажет пальцем.

На карте от точки A до точки B было несколько маршрутов, кроме того в некоторых точках можно было сделать петлю и вернуться в саму себя.

Вы решили написать программу, которая ответит на Q запросов вашего друга.

## Спасение Подземного Царства
Далеко-далеко, в подземном царстве находится древний город, который обитает многочисленным населением. Город издревле защищался от злых сил, проникающих из недр земли, поэтому была создана сложная система подземных туннелей и катакомб, предназначенная для перемещения солдат и магических существ, обеспечивающих защиту города.

Времена меняются, и волшебные защитные силы города иссякают. Чтобы спасти город, вам предстоит найти кратчайший путь между двумя ключевыми точками подземного мира и доставить мощный магический артефакт.

Подземный мир представлен ориентированным ациклическим графом (DAG), где вершины - это комнаты и перекрестки туннелей, а ребра - это туннели, соединяющие эти комнаты и перекрестки. Вес ребра обозначает время, затрачиваемое на прохождение туннеля между двумя вершинами.

Вам предстоит разработать алгоритм, который найдет кратчайший путь между стартовой точкой (S) и целевой точкой (T), минимизируя затрачиваемое время на перемещение. Ваша задача - доставить магический артефакт в кратчайший срок, чтобы успеть спасти подземное царство.

## Тиндер 2
Известно, что знакомства транзитивны и симметричны и рефлексивны. Два человека сильно знакомы, если они знакомы напрямую. Два человека a и b знакомы, если существует цепочка людей начинающийся с a и заканчивающийся в b, в которой каждый человек сильно знаком с соседом по цепочке. Например, из определения следует, что сильное знакомство является частным случаем знакомства и тп.

К сожалению знакомства забываются, а в нашей задаче это ещё и влечёт цепочку разрушений знакомств. Например, вы знаете человека X только через Y, и сильное знакомство между X и Y прервётся, то ваше знакомство с X тоже прекратится.

Вы очень умный студент ИС'а, вы решили лабу по алгосам за час и теперь вы задались проверкой гипотез о знакомствах.

Для проверки гипотез вы решили написать симулятор знакомств, SIMS5 на c++, но вот не задача, генерировать новые знакомства очень сложная задача, поэтому вы решили пока остановить реализацию данной функции.

Реализуйте выполнение списка операций. Операции двух типов:

? a b – проверить знакомы ли a и b
\- a b – сильные знакомые a и b больше не знакомые.